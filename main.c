#if 0
rm -f a.out
clang main.c
./a.out
exit
#endif

#include <stdio.h>

static inline void char35FromFloat(float v, char * outChar35) {
  unsigned b = ((unsigned *)(void *)&v)[0];
  outChar35[0]  = '0';
  outChar35[1]  = 'b';
  outChar35[2]  = (b & 0b10000000000000000000000000000000) == 0 ? '0' : '1';
  outChar35[3]  = (b & 0b01000000000000000000000000000000) == 0 ? '0' : '1';
  outChar35[4]  = (b & 0b00100000000000000000000000000000) == 0 ? '0' : '1';
  outChar35[5]  = (b & 0b00010000000000000000000000000000) == 0 ? '0' : '1';
  outChar35[6]  = (b & 0b00001000000000000000000000000000) == 0 ? '0' : '1';
  outChar35[7]  = (b & 0b00000100000000000000000000000000) == 0 ? '0' : '1';
  outChar35[8]  = (b & 0b00000010000000000000000000000000) == 0 ? '0' : '1';
  outChar35[9]  = (b & 0b00000001000000000000000000000000) == 0 ? '0' : '1';
  outChar35[10] = (b & 0b00000000100000000000000000000000) == 0 ? '0' : '1';
  outChar35[11] = (b & 0b00000000010000000000000000000000) == 0 ? '0' : '1';
  outChar35[12] = (b & 0b00000000001000000000000000000000) == 0 ? '0' : '1';
  outChar35[13] = (b & 0b00000000000100000000000000000000) == 0 ? '0' : '1';
  outChar35[14] = (b & 0b00000000000010000000000000000000) == 0 ? '0' : '1';
  outChar35[15] = (b & 0b00000000000001000000000000000000) == 0 ? '0' : '1';
  outChar35[16] = (b & 0b00000000000000100000000000000000) == 0 ? '0' : '1';
  outChar35[17] = (b & 0b00000000000000010000000000000000) == 0 ? '0' : '1';
  outChar35[18] = (b & 0b00000000000000001000000000000000) == 0 ? '0' : '1';
  outChar35[19] = (b & 0b00000000000000000100000000000000) == 0 ? '0' : '1';
  outChar35[20] = (b & 0b00000000000000000010000000000000) == 0 ? '0' : '1';
  outChar35[21] = (b & 0b00000000000000000001000000000000) == 0 ? '0' : '1';
  outChar35[22] = (b & 0b00000000000000000000100000000000) == 0 ? '0' : '1';
  outChar35[23] = (b & 0b00000000000000000000010000000000) == 0 ? '0' : '1';
  outChar35[24] = (b & 0b00000000000000000000001000000000) == 0 ? '0' : '1';
  outChar35[25] = (b & 0b00000000000000000000000100000000) == 0 ? '0' : '1';
  outChar35[26] = (b & 0b00000000000000000000000010000000) == 0 ? '0' : '1';
  outChar35[27] = (b & 0b00000000000000000000000001000000) == 0 ? '0' : '1';
  outChar35[28] = (b & 0b00000000000000000000000000100000) == 0 ? '0' : '1';
  outChar35[29] = (b & 0b00000000000000000000000000010000) == 0 ? '0' : '1';
  outChar35[30] = (b & 0b00000000000000000000000000001000) == 0 ? '0' : '1';
  outChar35[31] = (b & 0b00000000000000000000000000000100) == 0 ? '0' : '1';
  outChar35[32] = (b & 0b00000000000000000000000000000010) == 0 ? '0' : '1';
  outChar35[33] = (b & 0b00000000000000000000000000000001) == 0 ? '0' : '1';
  outChar35[34] = 0;
}

static inline float char35ToFloat(char * char35) {
  struct bits {
    unsigned _0:  1;
    unsigned _1:  1;
    unsigned _2:  1;
    unsigned _3:  1;
    unsigned _4:  1;
    unsigned _5:  1;
    unsigned _6:  1;
    unsigned _7:  1;
    unsigned _8:  1;
    unsigned _9:  1;
    unsigned _10: 1;
    unsigned _11: 1;
    unsigned _12: 1;
    unsigned _13: 1;
    unsigned _14: 1;
    unsigned _15: 1;
    unsigned _16: 1;
    unsigned _17: 1;
    unsigned _18: 1;
    unsigned _19: 1;
    unsigned _20: 1;
    unsigned _21: 1;
    unsigned _22: 1;
    unsigned _23: 1;
    unsigned _24: 1;
    unsigned _25: 1;
    unsigned _26: 1;
    unsigned _27: 1;
    unsigned _28: 1;
    unsigned _29: 1;
    unsigned _30: 1;
    unsigned _31: 1;
  };
  struct bits v;
  v._31 = char35[2]  == '0' ? 0 : 1;
  v._30 = char35[3]  == '0' ? 0 : 1;
  v._29 = char35[4]  == '0' ? 0 : 1;
  v._28 = char35[5]  == '0' ? 0 : 1;
  v._27 = char35[6]  == '0' ? 0 : 1;
  v._26 = char35[7]  == '0' ? 0 : 1;
  v._25 = char35[8]  == '0' ? 0 : 1;
  v._24 = char35[9]  == '0' ? 0 : 1;
  v._23 = char35[10] == '0' ? 0 : 1;
  v._22 = char35[11] == '0' ? 0 : 1;
  v._21 = char35[12] == '0' ? 0 : 1;
  v._20 = char35[13] == '0' ? 0 : 1;
  v._19 = char35[14] == '0' ? 0 : 1;
  v._18 = char35[15] == '0' ? 0 : 1;
  v._17 = char35[16] == '0' ? 0 : 1;
  v._16 = char35[17] == '0' ? 0 : 1;
  v._15 = char35[18] == '0' ? 0 : 1;
  v._14 = char35[19] == '0' ? 0 : 1;
  v._13 = char35[20] == '0' ? 0 : 1;
  v._12 = char35[21] == '0' ? 0 : 1;
  v._11 = char35[22] == '0' ? 0 : 1;
  v._10 = char35[23] == '0' ? 0 : 1;
  v._9  = char35[24] == '0' ? 0 : 1;
  v._8  = char35[25] == '0' ? 0 : 1;
  v._7  = char35[26] == '0' ? 0 : 1;
  v._6  = char35[27] == '0' ? 0 : 1;
  v._5  = char35[28] == '0' ? 0 : 1;
  v._4  = char35[29] == '0' ? 0 : 1;
  v._3  = char35[30] == '0' ? 0 : 1;
  v._2  = char35[31] == '0' ? 0 : 1;
  v._1  = char35[32] == '0' ? 0 : 1;
  v._0  = char35[33] == '0' ? 0 : 1;
  return ((float *)(void *)&v)[0];
}

int main() {
  float pi = 3.14159265f;

  char char35[35];
  char35FromFloat(pi, char35);

  float number = char35ToFloat(char35);

  printf("pi:     %f\n", pi);
  printf("char35: %s\n", char35);
  printf("number: %f\n", number);
  fflush(stdout);
}
